{% extends 'JazzywebdoDocBundle:GUIApp:layout.html.twig' %}

{% block container %}

<input type="hidden" id="book_code" value="{{book_code}}">
<div class="row-fluid">
    <div class="span3">
        <div id="book_tools" rel="{% trans %}Book{% endtrans %}" class="well littletitle lead">

            <div id="alert_book_tools" class="alert alert-block alert-error fade in hide ">
                <button data-dismiss="alert" class="close" type="button">×</button>
                <h4 class="alert-heading">{% trans %} Error!{% endtrans %}</h4>
                <p id="msg_error"></p>   
            </div>

            <p> {{ book_name }}</p>
            <div class="btn-group">                 
                <button id="btn_config_book" class="btn" title="configure this book"><i class="icon-wrench"></i></button>                    

                <a class="btn dropdown-toggle" title="select the format and build this book" data-toggle="dropdown" href="#">
                    <i class="icon-cog"></i>
                    build to:
                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    {% for format in build_formats %}
                        <li><a class="build_option" id="btn_{{ format }}">{{ format }}</a></li>                    
                    {% endfor %}
                    </ul>
                </div>
            </div>

            <div id="document_tools" rel="{% trans %}Document{% endtrans %}" class="well littletitle">                
               
                <div id="alert_document_tools" class="alert alert-block alert-error fade in hide ">
                    <button data-dismiss="alert" class="close" type="button">×</button>
                    <h4 class="alert-heading">{% trans %} Error!{% endtrans %}</h4>
                    <p id="msg_error_doctool"></p>   
                </div>
                <select id="document_list_selection">

                </select>

                <div class="btn-toolbar">

                    <div class="btn-group">
                        <!--<button id="btn_edit_doc" class="btn" title="edit document"><i class="icon-edit"></i></button> -->
                        <button id="btn_save_doc" class="btn" title="save this document to the book"><i class="icon-hdd"></i></button> 
                        <button id="btn_del_doc" class="btn" title="remove document"><i class="icon-remove-sign"></i></button>                   
                    </div>
                    <div  class="btn-group">
                        <a id="btn_download_doc" class="btn dropdown-toggle" title="select a format and download the document in such format" data-toggle="dropdown" href="#">
                            <i class="icon-download-alt"></i>

                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                             {% for format in download_formats %}
                                <li><a class="download_option" id="btn_{{ format }}">{{ format }}</a></li>                    
                             {% endfor %}
                            </ul>
                        </div>
                    </div>

                </div>

                <div id="generic_tools" rel="{% trans %}Tools{% endtrans %}" class="well littletitle">
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <button id="btn_new_doc" class="btn" title="add new document to the book"><i class="icon-plus"></i></button>                       
                            <button id="btn_upload_doc" class="btn" title="upload new documents to the book"><i class="icon-upload"></i></button>                   
                        </div>
                        <div class="btn-group">                    
                            <button id="btn_image_manager" class="btn" title="image manager"><i class="icon-picture"></i></button>                    
                        </div>
                        <div class="btn-group">
                            <button id="btn_toggle_preview" class="btn"  data-toggle="button" title="toggle preview [Alt + p]"><i class="icon-eye-open"></i></button>
                            <button id="btn_full_screen" class="btn" title="enter full screen [Alt + f]"><i class="icon-fullscreen"></i></button>                   
                        </div>
                    </div>
                </div>

            </div>

            <div class="span9">
                <div id="document_editor" rel="kuku - {% trans %}edit view{% endtrans %}" class="well littletitle">                   
                    <div style="height: 450px; width: 800px" id="epiceditor"></div>
                    <span id="notifications" class=""></span><image id="ajax-loader" src="{{ asset('bundles/jazzywebdodoc/app/images/ajax-loader.gif') }}" class="hide"/>
                </div>
            </div> 
        </div>

        <!-- template for document list render -->
        <script type="text/template" id="t_document_list"> 
            <select>
                <option></option>
                <% _.each(documents, function(doc){ %>
                <option id="<%= doc.name %>"><%= doc.name %></option>
                <% }); %>
            </select>
        </script>

    {% endblock %}


